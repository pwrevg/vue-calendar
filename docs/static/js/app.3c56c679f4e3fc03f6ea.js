webpackJsonp([1],{"0i7e":function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("7+uW"),n=a("Dd8w"),i=a.n(n),o=a("NYxO"),r={name:"MonthSwitcher",created:function(){this.calculateWeekDays()},computed:i()({},Object(o.b)(["getMonthTitle","getWeekDays"])),methods:i()({},Object(o.c)(["changeDatePrevWeek","changeDateNextWeek","calculateWeekDays"]),{_prev:function(){this.changeDatePrevWeek(),this.calculateWeekDays()},_next:function(){this.changeDateNextWeek(),this.calculateWeekDays()}})},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content__shudle-month-room-block nostyle"},[a("div",{staticClass:"content__shudle-item"},[e._v("Комната")]),e._v(" "),a("div",{staticClass:"content__shudle-month-title"},[e._v(e._s(this.getMonthTitle))]),e._v(" "),a("div",{staticClass:"content__shudle-month-prev"}),e._v(" "),a("div",{staticClass:"content__shudle-month-prev-area",on:{click:e._prev}}),e._v(" "),a("div",{staticClass:"content__shudle-month-next"}),e._v(" "),a("div",{staticClass:"content__shudle-month-next-area",on:{click:e._next}}),e._v(" "),a("div",{staticClass:"content__shudle-month-days"},e._l(this.getWeekDays,function(t){return a("div",{key:t.index,staticClass:"content__shudle-month-day"},[e._v("\n      "+e._s(t)+"\n    ")])}))])},staticRenderFns:[]},c=a("VU/8")(r,l,!1,null,null,null).exports,h={name:"TableDaysTime",props:["value","roomIndex","dayIndex"],data:function(){return{isReserved:!1,oldtime:!1,nowDate:void 0,startWeekDay:this.getCurrentDate,timeNow:void 0,StorageKey:void 0}},computed:i()({},Object(o.b)(["getCurrentDate","getRooms"])),created:function(){this.startWeekDay=new Date(this.getCurrentDate).setDate(new Date(this.getCurrentDate).getDate()-new Date(this.getCurrentDate).getDay()+parseInt(this.dayIndex)),this.timeNow=new Date(new Date(this.startWeekDay).getFullYear()+"."+(new Date(this.startWeekDay).getMonth()+1)+"."+new Date(this.startWeekDay).getDate()+" "+this.value),this.StorageKey=this.getRooms[this.roomIndex].type+"_"+new Date(this.startWeekDay).getFullYear()+"_"+new Date(this.startWeekDay).getMonth()+"_"+new Date(this.startWeekDay).getDate()+"_"+new Date(this.startWeekDay).getDay()+"_"+this.value.replace(":","_"),this.nowDate=new Date(this.getCurrentDate),this.oldtime=this._isOldtime(),this.isReserved=this._isReserve()},watch:{getCurrentDate:function(e){this.startWeekDay=new Date(this.getCurrentDate).setDate(new Date(this.getCurrentDate).getDate()-new Date(this.getCurrentDate).getDay()+parseInt(this.dayIndex)),this.timeNow=new Date(new Date(this.startWeekDay).getFullYear()+"."+(new Date(this.startWeekDay).getMonth()+1)+"."+new Date(this.startWeekDay).getDate()+" "+this.value),this.StorageKey=this.getRooms[this.roomIndex].type+"_"+new Date(this.startWeekDay).getFullYear()+"_"+new Date(this.startWeekDay).getMonth()+"_"+new Date(this.startWeekDay).getDate()+"_"+new Date(this.startWeekDay).getDay()+"_"+this.value.replace(":","_"),this.oldtime=this._isOldtime(),this.isReserved=this._isReserve()}},methods:{_reserve:function(){this.oldtime||(this.isReserved?(localStorage.removeItem(this.StorageKey,1),this.isReserved=!1):(localStorage.setItem(this.StorageKey,1),this.isReserved=!0))},_isOldtime:function(){return+new Date(this.nowDate)>+new Date(this.timeNow)},_isReserve:function(){return!!localStorage.getItem(this.StorageKey)}}},u={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"content__shudle-time-zone ",class:{blocked:this.isReserved,blockreserve:this.oldtime},on:{click:this._reserve}},[this._v(this._s(this.value))])},staticRenderFns:[]},D={name:"TableDays",data:function(){return{TIME:["9:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","19:00","20:00"],am:void 0,pm:void 0}},components:{TableDaysTime:a("VU/8")(h,u,!1,null,null,null).exports},props:["roomIndex"],computed:i()({},Object(o.b)(["getWeekDays"])),created:function(){this.am=this.TIME.splice(0,5),this.pm=this.TIME.splice(0,5)}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content__shudle-table"},e._l(this.getWeekDays,function(t,s){return a("div",{key:s,staticClass:"content__shudle-time"},[a("div",{staticClass:"content__shudle-block-title"},[e._v(e._s(t))]),e._v(" "),a("div",{staticClass:"content__shudle-row"},e._l(e.am,function(t,n){return a("TableDaysTime",{key:n,attrs:{value:t,roomIndex:e.roomIndex,dayIndex:s}})})),e._v(" "),a("div",{staticClass:"content__shudle-row"},e._l(e.pm,function(t,n){return a("TableDaysTime",{key:n,attrs:{value:t,roomIndex:e.roomIndex,dayIndex:s}})}))])}))},staticRenderFns:[]},_={name:"RoomShudle",components:{TableDays:a("VU/8")(D,d,!1,null,null,null).exports},props:["room","index"]},m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content__shudle-month-room-block"},[a("div",{staticClass:"content__shudle-month-item item_type "},[e._v("\n    "+e._s(e.room.label)+"\n    "),a("span",{staticClass:"content__shudle-item-notice"},[e._v(e._s(e.room.notice))])]),e._v(" "),a("TableDays",{attrs:{type:e.room.type,roomIndex:e.index}})],1)},staticRenderFns:[]},v={name:"App",components:{MonthSwitcher:c,RoomShudle:a("VU/8")(_,m,!1,null,null,null).exports},data:function(){return{Rooms:{1:{label:"Зелёная",notice:"(до 5 персон)",type:"green"},2:{label:"Красная",notice:"(до 15 персон)",type:"red"},3:{label:"Синяя",notice:"(до 25 персон)",type:"blue"},4:{label:"Фиолетовая",notice:"(до 35 персон)",type:"purpure"}},secondInDay:864e5,currentDate:+new Date,ThisWeek:void 0}},created:function(){},methods:i()({},Object(o.c)(["changeDate"]),Object(o.b)(["getRooms"]))},y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content"},[a("div",{staticClass:"content__title"},[e._v("\n      Бронирование переговорок\n    ")]),e._v(" "),a("div",{staticClass:"content__logo"}),e._v(" "),a("div",{staticClass:"content__shudle"},[a("div",{staticClass:"content__shudle-month"},[a("MonthSwitcher"),e._v(" "),e._l(this.getRooms(),function(t,s){return a("RoomShudle",{key:s,attrs:{index:s,room:t,date:e.ThisWeek}})})],2)])])},staticRenderFns:[]};var g=a("VU/8")(v,y,!1,function(e){a("0i7e")},null,null).exports,p=a("/ocq");s.a.use(p.a);var w=new p.a({routes:[{path:"/"}]});s.a.use(o.a);var k=new o.a.Store({state:{monthFormatName:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],daysFormatName:["Понедельник","Вторник","Среда","Четверг","Пятница","Суббота","Воскресенье"],tsDate:+new Date,Rooms:{1:{label:"Зелёная",notice:"(до 5 персон)",type:"green"},2:{label:"Красная",notice:"(до 15 персон)",type:"red"},3:{label:"Синяя",notice:"(до 25 персон)",type:"blue"},4:{label:"Фиолетовая",notice:"(до 35 персон)",type:"purpure"}},monthTitle:void 0,thisWeek:void 0,thisWeekDays:{},thisWeekDaysCount:5},mutations:{changeDate:function(e){setInterval(function(){e.tsDate=+new Date,console.log(e.tsDate)},5e3)},changeDatePrevWeek:function(e){e.tsDate=+new Date(e.tsDate).setDate(new Date(e.tsDate).getDate()-7)},changeDateNextWeek:function(e){e.tsDate=+new Date(e.tsDate).setDate(new Date(e.tsDate).getDate()+7)},calculateWeekDays:function(e){for(var t=1,a=0;t<=e.thisWeekDaysCount;)a=new Date(e.tsDate).setDate(new Date(e.tsDate).getDate()-new Date(e.tsDate).getDay()+t),e.thisWeekDays[t]=new Date(a).getDate()+" "+e.daysFormatName[new Date(a).getDay()-1],t++}},getters:{getCurrentDate:function(e){return e.tsDate},getMonthTitle:function(e){return e.monthTitle=e.monthFormatName[new Date(e.tsDate).getMonth()]+" "+new Date(e.tsDate).getFullYear(),e.monthFormatName[new Date(e.tsDate).getMonth()]+" "+new Date(e.tsDate).getFullYear()},getWeekDays:function(e){return e.thisWeekDays},getRooms:function(e){return e.Rooms}}});s.a.config.productionTip=!1,new s.a({el:"#app",store:k,router:w,components:{App:g},template:"<App/>"})}},["NHnr"]);
//# sourceMappingURL=app.3c56c679f4e3fc03f6ea.js.map