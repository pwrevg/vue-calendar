webpackJsonp([1],{NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("7+uW"),n=s("Dd8w"),i=s.n(n),o=s("NYxO"),r={name:"MonthSwitcher",created:function(){this.calculateWeekDays()},computed:i()({},Object(o.b)(["getMonthTitle","getWeekDays"])),methods:i()({},Object(o.c)(["changeDatePrevWeek","changeDateNextWeek","calculateWeekDays","changeDateWeek"]),{_prev:function(){this.changeDateWeek("-"),this.calculateWeekDays()},_next:function(){this.changeDateWeek(),this.calculateWeekDays()}})},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content__shudle-month-room-block nostyle"},[s("div",{staticClass:"content__shudle-item"},[t._v("Комната")]),t._v(" "),s("div",{staticClass:"content__shudle-month-title"},[t._v(t._s(this.getMonthTitle))]),t._v(" "),s("div",{staticClass:"content__shudle-month-prev"}),t._v(" "),s("div",{staticClass:"content__shudle-month-prev-area",on:{click:t._prev}}),t._v(" "),s("div",{staticClass:"content__shudle-month-next"}),t._v(" "),s("div",{staticClass:"content__shudle-month-next-area",on:{click:t._next}}),t._v(" "),s("div",{staticClass:"content__shudle-month-days"},t._l(this.getWeekDays,function(e){return s("div",{key:e.index,staticClass:"content__shudle-month-day"},[t._v("\n      "+t._s(e)+"\n    ")])}))])},staticRenderFns:[]},l=s("VU/8")(r,c,!1,null,null,null).exports,h=s("mvHQ"),u=s.n(h),d={name:"TableDaysTime",props:{value:String,room:Object,dayIndex:String},data:function(){return{isReserved:!1,dontReserve:!1,nowDate:void 0,currentDay:this.getCurrentDate,timeItem:void 0,Date:void 0,storageObject:{}}},created:function(){this.Date=new Date(this.getCurrentDate),this.currentDay=this.Date.setDate(this.Date.getDate()-this.Date.getDay()+parseInt(this.dayIndex)),this.timestampItem=+new Date(this.Date.getFullYear()+"."+(this.Date.getMonth()+1)+"."+this.Date.getDate()+" "+this.value),this.nowDate=+new Date(this.getCurrentDate),this.dontReserve=this._isOldtime(),this.isReserved=this._isReserve()},computed:i()({},Object(o.b)(["getCurrentDate"])),watch:{getCurrentDate:function(t){this.Date=new Date(this.getCurrentDate),this.currentDay=this.Date.setDate(this.Date.getDate()-this.Date.getDay()+parseInt(this.dayIndex)),this.timestampItem=+new Date(this.Date.getFullYear()+"."+(this.Date.getMonth()+1)+"."+this.Date.getDate()+" "+this.value),this.dontReserve=this._isOldtime(),this.isReserved=this._isReserve()}},methods:{_reserve:function(){localStorage.getItem("vue-calendar")?this.storageObject=JSON.parse(localStorage.getItem("vue-calendar")):this.storageObject={},this.dontReserve||(this.isReserved?(delete this.storageObject[this.room.type+"_"+this.timestampItem],localStorage.setItem("vue-calendar",u()(this.storageObject)),this.isReserved=!1):(this.storageObject[this.room.type+"_"+this.timestampItem]=!0,localStorage.setItem("vue-calendar",u()(this.storageObject)),this.isReserved=!0))},_isOldtime:function(){return this.nowDate>this.timestampItem},_isReserve:function(){return this.storageObject=JSON.parse(localStorage.getItem("vue-calendar")),!!this.storageObject[this.room.type+"_"+this.timestampItem]}}},m={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"content__shudle-time-zone ",class:{blocked:this.isReserved,blockreserve:this.dontReserve},on:{click:this._reserve}},[this._v(this._s(this.value))])},staticRenderFns:[]},D={name:"TableDays",components:{TableDaysTime:s("VU/8")(d,m,!1,null,null,null).exports},props:{room:Object,index:String},data:function(){return{timeClocks:["9:00","14:00","10:00","15:00","11:00","16:00","12:00","17:00","13:00","18:00"]}},computed:i()({},Object(o.b)(["getWeekDays"]))},_={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content__shudle-table"},t._l(this.getWeekDays,function(e,a){return s("div",{key:a,staticClass:"content__shudle-time"},[s("div",{staticClass:"content__shudle-block-title"},[t._v(t._s(e))]),t._v(" "),t._l(t.timeClocks,function(e,n){return s("TableDaysTime",{key:n,attrs:{value:e,dayIndex:a,room:t.room}})})],2)}))},staticRenderFns:[]},v={name:"RoomShudle",components:{TableDays:s("VU/8")(D,_,!1,null,null,null).exports},props:{room:Object,index:String}},g={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content__shudle-month-room-block"},[s("div",{staticClass:"content__shudle-month-item item_type "},[t._v("\n    "+t._s(t.room.label)+"\n    "),s("span",{staticClass:"content__shudle-item-notice"},[t._v(t._s(t.room.notice))])]),t._v(" "),s("TableDays",{attrs:{type:t.room.type,room:t.room,index:t.index}})],1)},staticRenderFns:[]},p={name:"App",components:{MonthSwitcher:l,RoomShudle:s("VU/8")(v,g,!1,null,null,null).exports},data:function(){return{Rooms:{1:{label:"Зелёная",notice:"(до 5 персон)",type:"green"},2:{label:"Красная",notice:"(до 15 персон)",type:"red"},3:{label:"Синяя",notice:"(до 25 персон)",type:"blue"},4:{label:"Фиолетовая",notice:"(до 35 персон)",type:"purpure"}}}},methods:i()({},Object(o.c)(["changeDate"]),Object(o.b)(["getRooms"]))},y={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"content"},[e("div",{staticClass:"content__title"},[this._v("\n      Бронирование переговорок\n    ")]),this._v(" "),e("div",{staticClass:"content__logo"}),this._v(" "),e("div",{staticClass:"content__shudle"},[e("div",{staticClass:"content__shudle-month"},[e("MonthSwitcher"),this._v(" "),this._l(this.Rooms,function(t,s){return e("RoomShudle",{key:s,attrs:{index:s,room:t}})})],2)])])},staticRenderFns:[]};var b=s("VU/8")(p,y,!1,function(t){s("l5qU")},null,null).exports,f=s("/ocq");a.a.use(f.a);var k=new f.a({routes:[{path:"/"}]});a.a.use(o.a);var C=new o.a.Store({state:{monthFormatName:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],daysFormatName:["Понедельник","Вторник","Среда","Четверг","Пятница","Суббота","Воскресенье"],tsDate:+new Date,thisWeekDays:{},thisWeekDaysCount:5},mutations:{changeDate:function(t){setInterval(function(){t.tsDate=+new Date},5e3)},changeDateWeek:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t.tsDate=+new Date(t.tsDate).setDate(new Date(t.tsDate).getDate()+parseInt(e+"7"))},calculateWeekDays:function(t){for(var e=1,s=0;e<=t.thisWeekDaysCount;)s=new Date(t.tsDate).setDate(new Date(t.tsDate).getDate()-new Date(t.tsDate).getDay()+e),t.thisWeekDays[e]=new Date(s).getDate()+" "+t.daysFormatName[new Date(s).getDay()-1],e++}},getters:{getCurrentDate:function(t){return t.tsDate},getMonthTitle:function(t){return t.monthTitle=t.monthFormatName[new Date(t.tsDate).getMonth()]+" "+new Date(t.tsDate).getFullYear(),t.monthFormatName[new Date(t.tsDate).getMonth()]+" "+new Date(t.tsDate).getFullYear()},getWeekDays:function(t){return t.thisWeekDays}}});a.a.config.productionTip=!1,new a.a({el:"#app",store:C,router:k,components:{App:b},template:"<App/>"})},l5qU:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.ea5c7e83647c12b2919d.js.map